import streamlit as st

# 1. è¨­å®šç¶²é æ¨™é¡Œèˆ‡å¯¬åº¦
st.set_page_config(page_title="é«˜å·¥é›»è·¯è§£æ", layout="centered")

# 2. é¡¯ç¤ºæ¨™é¡Œ
st.title("ğŸ”Œ ç›´æµé›»è·¯è§£æå°å¹«æ‰‹")
st.write("---")

# 3. æ¨¡æ“¬ä¸€å€‹é¡Œç›®æƒ…å¢ƒ (è§£æ±ºæ–‡å­—æ–·è¡Œå•é¡Œçš„é—œéµåœ¨é€™è£¡)
st.subheader("é¡Œç›®è§£æï¼š")

# è€å¸«è«‹çœ‹ï¼šä½¿ç”¨ LaTeXèªæ³• (å…©å€‹éŒ¢å­—è™ŸåŒ…èµ·ä¾†) å¯ä»¥è®“å–®ä½è·Ÿæ•¸å­—ç·Šé»åœ¨ä¸€èµ·ï¼Œä¸æœƒè¢«æ–·è¡Œ
st.markdown("""
æ ¹æ“šå…‹å¸Œè·å¤«é›»å£“å®šå¾‹ (KVL)ï¼š
1. é›»è·¯è®Šæˆäº†å·¦é‚Šæ–·è·¯ï¼Œå‰©ä¸‹å³é‚Š $4V$ é›»å£“æºèˆ‡å³é‚Š $2\Omega$ é›»é˜»ã€‚
2. é›»æµå¾ $4V$ æ­£æ¥µå‡ºç™¼ï¼Œæµç¶“å³é‚Š $2\Omega$ï¼Œå†å‘ä¸‹æµç¶“ä¸­é–“ $2\Omega$ã€‚
""")

st.info("ğŸ’¡ æç¤ºï¼šåˆ©ç”¨ LaTeX èªæ³• `$æ•¸å€¼å–®ä½$` å¯ä»¥ç¢ºä¿æ‰‹æ©Ÿç‰ˆé¢é–±è®€æµæš¢ã€‚")

# 4. ç°¡å–®çš„äº’å‹•åŠŸèƒ½ (è®“å­¸ç”Ÿè¼¸å…¥æ•¸å€¼)
st.write("### è©¦ç®—å€")
voltage = st.number_input("è«‹è¼¸å…¥é›»å£“ (V)", value=4.0, step=0.5)
resistance = st.number_input("è«‹è¼¸å…¥é›»é˜» (Î©)", value=2.0, step=0.5)

if st.button("è¨ˆç®—é›»æµ"):
    if resistance == 0:
        st.error("é›»é˜»ä¸èƒ½ç‚º 0ï¼")
    else:
        current = voltage / resistance
        # é€™è£¡ä¹Ÿç”¨ LaTeX é¡¯ç¤ºæ¼‚äº®çš„æ•¸å­¸å¼
        st.success(f"è¨ˆç®—çµæœï¼šé›»æµ $I = \\frac{{V}}{{R}} = \\frac{{{voltage}}}{{{resistance}}} = {current} A$")
